{
  "title": "SCP vShop_ingestion_{operation_date}",
  "properties": {
    "operation_date": "yyyyMMdd",
    "display_date": "dd MMMM yyyy"
  },
  "sections": [
    {
      "heading": "Operation Overview",
      "content": [
        {
          "type": "table",
          "style": "border-collapse: collapse; width: 100%; background: #fff; border: 1px solid #ddd; font-size: 15px;",
          "fields": [
            {
              "label": "Field",
              "id": "field_label",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; width: 30%; font-weight: bold;"
            },
            {
              "label": "Value",
              "id": "field_value",
              "style": "border: 1px solid #ddd; background: #fff; vertical-align: top; width: 70%;"
            },
            {
              "label": "Status",
              "id": "field_status",
              "style": "border: 1px solid #ddd; background: #fff; vertical-align: top; width: 70%;"
            }
          ],
          "static_values": {
            "ticket": "S-OUT: TICKET_NUMBER - SCP Shop S-OUT",
            "approvals_sre": "@Pawar, Nikhil, @Rawat, Megha",
            "approvals_sre_emails": {
              "@Pawar, Nikhil": "nikhil.pawar@example.com",
              "@Rawat, Megha": "megha.rawat@example.com"
            },
            "approvals_sre_status": "NOT APPROVED",
            "operation_pic": "@Ali, Abrar",
            "release_branch_checkboxes": "DONE",
            "release_branch_checkboxes_status": "release/vSCP_shop_ingestion_20250603_183000\n\nRC:\nhttps://gitpub.rakuten-it.com/projects/SCP/repos/scp-rsl-shops/browse?at=refs%2Fheads%2Frelease%2FvSCP_shop_ingestion_20250603_183000\n\nPR:\nhttps://gitpub.rakuten-it.com/projects/SCP/repos/scp-rsl-shops/pull-requests/642/overview",
            "release_branch_name": "release/vSCP_shop_ingestion_20250603_183000"
          },
          "rows": [
            {
              "label": "Operation Date and Time",
              "id": "display_date"
            },
            {
              "label": "Ticket",
              "id": "ticket"
            },
            {
              "label": "Approvals | SRE",
              "id": "approvals_sre"
            },
            {
              "label": "Operation PIC",
              "id": "operation_pic"
            },
            {
              "label": "Operation Details",
              "id": "operation_details"
            },
            {
              "label": "Operation Summary",
              "id": "operation_summary"
            },
            {
              "label": "Release/Hotfix branch created",
              "id": "release_branch_checkboxes",
              "checkboxes": [
                "DONE",
                "NOT YET",
                "NOT APPLICABLE"
              ]
            },
            {
              "label": "Release Branch",
              "id": "release_branch_name"
            }
          ]
        }
      ]
    },
    {
      "heading": "S-OUT Operation Preparation",
      "content": [
        {
          "type": "table",
          "style": "border-collapse: collapse; width: 100%; background: #fff; border: 1px solid #ddd; font-size: 15px;",
          "fields": [
            {
              "label": "Task",
              "id": "preparation_task",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Steps",
              "id": "preparation_steps",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Remarks",
              "id": "preparation_screenshots",
              "style": "border: 1px solid #ddd; background: #f7f7f7;"
            }
          ],
          "static_values": {
            "verify_shop_exists": "{expand:title=Shop Verification Query}\n{code:language=sql|borderStyle=solid|theme=RDark|collapse=true}\nselect * from scp_shops where SHOP_URL in ('h2o-e')\n{code}\n{expand}"
          },
          "rows": [
            {
              "label": "Verify Shop's exists",
              "id": "verify_shop_exists"
            }
          ]
        }
      ]
    },
    {
      "heading": "S-OUT Operation Execution",
      "content": [
        {
          "type": "table",
          "style": "border-collapse: collapse; width: 100%; background: #fff; border: 1px solid #ddd; font-size: 15px;",
          "fields": [
            {
              "label": "Task",
              "id": "execution_task",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Steps",
              "id": "execution_steps",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Remarks",
              "id": "execution_remarks",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            }
          ],
          "static_values": {
            "update_shop_data_out_steps": "Checkout release/vSCP_shop_ingestion_{operation_date} branch\nOperation steps to delete items https://confluence.rakuten-it.com/confluence/display/SCG/%5BNEW+from+DCP%5D303930+Manual+to+Update+Reference+Data\n{expand:title=Shop Data}\n{code:language=json|borderStyle=solid|theme=RDark|collapse=true}\n[\n  {\n    \"shopUrl\": \"h2o-e\",\n    \"shopId\": 230140\n  }\n]\n{code}\n{expand}",
            "update_shop_data_out_steps_status": "S-OUT\n\nTotal Query\n\nselect count(*) from scp_shops\nBEFORE S-OUT\n\n6740\n\nAFTER S-OUT\n6739",
            "update_shop_data_out_remarks": "Total Query\n\nselect count(*) from scp_shops\n\nBEFORE S-OUT\n\n6877\n\nAFTER S-OUT",
            "update_shop_warehouse_location_data": "Operation steps to do \"Shop warehouse location reference data\" . Follow [Shop warehouse location reference data] section\nfrom https://confluence.rakuten-it.com/confluence/display/SCG/%5BNEW+from+DCP%5D+Manual+to+Update+Reference+Data"
          },
          "rows": [
            {
              "label": "Update shop data",
              "id": "update_shop_data_out_steps"
            },
            {
              "label": "Update shop warehouse data",
              "id": "update_shop_warehouse_location_data"
            }
          ]
        }
      ]
    },
    {
      "heading": "Rollback Plan",
      "content": [
        {
          "type": "table",
          "style": "border-collapse: collapse; width: 100%; background: #fff; border: 1px solid #ddd; font-size: 15px;",
          "fields": [
            {
              "label": "Step",
              "id": "rollback_step",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Details",
              "id": "rollback_details",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Remark",
              "id": "rollback_remark",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            }
          ],
          "rows": [
            {
              "label": "Share details and impact with producer and manager",
              "id": "share_rollback_details"
            },
            {
              "label": "Deploy old image of the prometheus using previous release manual",
              "id": "deploy_old_prometheus"
            }
          ]
        }
      ]
    },
    {
      "heading": "Monitoring Plan",
      "content": [
        {
          "type": "table",
          "style": "border-collapse: collapse; width: 100%; background: #fff; border: 1px solid #ddd; font-size: 15px;",
          "fields": [
            {
              "label": "Task",
              "id": "monitoring_task",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Remark",
              "id": "monitoring_remark",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "PIC",
              "id": "monitoring_pic",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Time",
              "id": "monitoring_time",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            }
          ],
          "static_values": {
            "monitor_kibana": "Monitor apps in kibana\nhttps://kibana-eaas-jpe2c.rakuten-it.com/ecld-scg/app/kibana#/discover/9516dd20-d87c-11eb-91e3-d3d34715d24d\nlog group: eaas_jpe2c-ecld-scg_ecld-scg_scp_java_app_logs-*\nS-OUT\n\n{code:language=sql|borderStyle=solid|theme=RDark}'jojoselect66','alamode','apricot-r','s-marche'\n\nGrafana: https://monitor.rakuten-it.com/v2/d/GSOruU87z/scp-publishers?orgId=1",
            "monitoring_pic": "@Ali, Abrar",
            "monitoring_time": "For 1 hour after release"
          },
          "rows": [
            {
              "label": "Monitor apps in kibana",
              "id": "monitor_kibana"
            }
          ]
        }
      ]
    },
    {
      "heading": "Post Release Checklist",
      "content": [
        {
          "type": "table",
          "style": "border-collapse: collapse; width: 100%; background: #fff; border: 1px solid #ddd; font-size: 15px;",
          "fields": [
            {
              "label": "Task",
              "id": "post_release_task",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Status",
              "id": "post_release_status",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            },
            {
              "label": "Remarks",
              "id": "post_release_remarks",
              "style": "border: 1px solid #ddd; background: #f7f7f7; vertical-align: top; font-weight: bold;"
            }
          ],
          "rows": [
            {
              "label": "Request merging of release branch to Master and Develop",
              "id": "request_branch_merge",
              "checkboxes": [
                "DONE",
                "NOT YET",
                "NOT APPLICABLE"
              ]
            }
          ]
        }
      ]
    }
  ]
}